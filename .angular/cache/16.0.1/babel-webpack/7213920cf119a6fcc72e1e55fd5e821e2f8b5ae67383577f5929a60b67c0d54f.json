{"ast":null,"code":"import { Book } from '../models/book';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nclass BooksService {\n  constructor(http) {\n    this.http = http;\n    // puede ser :3000/books o sin no se \n    this.url = \"http://localhost:3000/books\";\n    this.books = [new Book(40040, 1200007, \"Dejar ir\", \"Autoayuda\", \"Dr. David Hawkins\", 19.99, \"https://imagessl4.casadellibro.com/a/l/t7/14/9788494248214.jpg\"), new Book(30310, 4170002, \"Los 5 niveles de apego\", \"Autoayuda\", \"Miguel Ruiz Jr\", 14.99, \"https://imagessl7.casadellibro.com/a/l/t7/77/9788479538477.jpg\"), new Book(41000, 4000441, \"Titanes\", \"Liderazgo\", \"Tim Ferriss\", 23.99, \"https://images.cdn2.buscalibre.com/fit-in/360x360/39/85/3985f893d89905b8495825bbfac2239b.jpg\"), new Book(41009, 1000222, \"Encantado de conocerme\", \"Autoayuda\", \"Borja Vilaseca\", 12.99, \"https://imagessl6.casadellibro.com/a/l/t7/26/9788466361026.jpg\"), new Book(77007, 1340098, \"El libro tibetano de los muertos\", \"Espiritualidad, religión\", \"Padma Sambhava\", 16.00, \"https://imagessl9.casadellibro.com/a/l/t7/19/9788472453319.jpg\"), new Book(77008, 120008, \"El alquimista\", \"Novela\", \"Paulo Cohelo\", 9.99, \"https://imagessl5.casadellibro.com/a/l/t7/55/9788408144755.jpg\")];\n    this.getAll();\n  }\n  getAll() {\n    // let url = 'http://localhost:3000/books'\n    return this.http.get(this.url);\n  }\n  getOne(id_book) {\n    let url = 'http://localhost:3000/?id_book=' + id_book;\n    return this.http.get(url);\n  }\n  // POST BOOKS\n  add(book) {\n    return this.http.post(this.url, book);\n  }\n  edit(book) {\n    return this.http.put(this.url, book);\n  }\n  delete(id_book) {\n    return this.http.request('delete', this.url, {\n      body: {\n        id_book: id_book\n      }\n    });\n  }\n}\nBooksService.ɵfac = function BooksService_Factory(t) {\n  return new (t || BooksService)(i0.ɵɵinject(i1.HttpClient));\n};\nBooksService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: BooksService,\n  factory: BooksService.ɵfac,\n  providedIn: 'root'\n});\nexport { BooksService };","map":{"version":3,"names":["Book","BooksService","constructor","http","url","books","getAll","get","getOne","id_book","add","book","post","edit","put","delete","request","body","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/Users/ivanapizzo/Desktop/angular_clase1/angular_myBooks/src/app/shared/books.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Book } from '../models/book';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BooksService {\n\n\n  // puede ser :3000/books o sin no se \n\n\n    private url:string = \"http://localhost:3000/books\";\n\n    public books:Book[];\n\n    constructor(private http:HttpClient){\n\n      this.books = [\n\n        new Book(40040, 1200007, \"Dejar ir\", \"Autoayuda\", \"Dr. David Hawkins\", 19.99, \"https://imagessl4.casadellibro.com/a/l/t7/14/9788494248214.jpg\"),\n        new Book(30310, 4170002, \"Los 5 niveles de apego\", \"Autoayuda\", \"Miguel Ruiz Jr\", 14.99, \"https://imagessl7.casadellibro.com/a/l/t7/77/9788479538477.jpg\"),\n        new Book(41000, 4000441, \"Titanes\", \"Liderazgo\", \"Tim Ferriss\", 23.99, \"https://images.cdn2.buscalibre.com/fit-in/360x360/39/85/3985f893d89905b8495825bbfac2239b.jpg\"),\n        new Book(41009, 1000222, \"Encantado de conocerme\", \"Autoayuda\", \"Borja Vilaseca\", 12.99, \"https://imagessl6.casadellibro.com/a/l/t7/26/9788466361026.jpg\"),\n        new Book(77007, 1340098, \"El libro tibetano de los muertos\", \"Espiritualidad, religión\", \"Padma Sambhava\", 16.00, \"https://imagessl9.casadellibro.com/a/l/t7/19/9788472453319.jpg\"),\n        new Book(77008, 120008, \"El alquimista\", \"Novela\", \"Paulo Cohelo\", 9.99, \"https://imagessl5.casadellibro.com/a/l/t7/55/9788408144755.jpg\"),\n\n      ]\n      this.getAll();\n  }\n\n\n  getAll():Observable<Object> {\n\n    // let url = 'http://localhost:3000/books'\n    return this.http.get(this.url);\n  }\n\n\n  getOne(id_book:number):Observable<Object> {\n\n    let url = 'http://localhost:3000/?id_book=' + id_book;\n    return this.http.get(url);\n  }\n\n\n\n  // POST BOOKS\n  add(book:Book):Observable<Object>{\n\n    return this.http.post(this.url, book);\n  }\n\n\n  edit(book:Book):Observable<Object> {\n\n    return this.http.put(this.url, book)\n  }\n\n\n\n  delete(id_book:number):Observable<Object> {\n\n    return this.http.request('delete', this.url, {body:{id_book:id_book}});\n  }\n\n}\n\n\n\n\n  // getAll2():Book[] {\n\n  //   return this.books;\n  // }\n\n\n\n// getOne(id_book:number):Book[] {\n\n  //   let getBook:Book[] = [];\n\n  //   for(let i = 0; i < this.books.length ; i++) {\n  //     if (this.books[i].id_book == id_book){\n  //         getBook.push(this.books[i]);\n  //     }\n  //   } return getBook;\n  // }\n\n\n\n  // add(book:Book):void {\n\n  //   this.books.push(book);\n  // }\n\n\n    // edit(book:Book):boolean {\n\n  //     for (let i = 0; i < this.books.length; i++) {\n  //       if (this.books[i].id_book == book.id_book){\n\n  //         this.books[i] = book;\n  //       }\n  //     }\n\n  //       return true;\n  // }\n\n\n\n    // Devuelve true si lo borra o false si no lo borra\n\n  // delete(id_book:number):boolean {\n  //   for(let i = 0; i < this.books.length; i++) {\n  //       if (this.books[i].id_book == id_book) {\n  //         this.books.splice(i, 1);\n  //       }\n  //   }\n  //   return true;\n  // }"],"mappings":"AACA,SAASA,IAAI,QAAQ,gBAAgB;;;AAIrC,MAGaC,YAAY;EAUrBC,YAAoBC,IAAe;IAAf,KAAAA,IAAI,GAAJA,IAAI;IAP1B;IAGU,KAAAC,GAAG,GAAU,6BAA6B;IAMhD,IAAI,CAACC,KAAK,GAAG,CAEX,IAAIL,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,mBAAmB,EAAE,KAAK,EAAE,gEAAgE,CAAC,EAC/I,IAAIA,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,wBAAwB,EAAE,WAAW,EAAE,gBAAgB,EAAE,KAAK,EAAE,gEAAgE,CAAC,EAC1J,IAAIA,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,aAAa,EAAE,KAAK,EAAE,8FAA8F,CAAC,EACtK,IAAIA,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,wBAAwB,EAAE,WAAW,EAAE,gBAAgB,EAAE,KAAK,EAAE,gEAAgE,CAAC,EAC1J,IAAIA,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,kCAAkC,EAAE,0BAA0B,EAAE,gBAAgB,EAAE,KAAK,EAAE,gEAAgE,CAAC,EACnL,IAAIA,IAAI,CAAC,KAAK,EAAE,MAAM,EAAE,eAAe,EAAE,QAAQ,EAAE,cAAc,EAAE,IAAI,EAAE,gEAAgE,CAAC,CAE3I;IACD,IAAI,CAACM,MAAM,EAAE;EACjB;EAGAA,MAAMA,CAAA;IAEJ;IACA,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAC,IAAI,CAACH,GAAG,CAAC;EAChC;EAGAI,MAAMA,CAACC,OAAc;IAEnB,IAAIL,GAAG,GAAG,iCAAiC,GAAGK,OAAO;IACrD,OAAO,IAAI,CAACN,IAAI,CAACI,GAAG,CAACH,GAAG,CAAC;EAC3B;EAIA;EACAM,GAAGA,CAACC,IAAS;IAEX,OAAO,IAAI,CAACR,IAAI,CAACS,IAAI,CAAC,IAAI,CAACR,GAAG,EAAEO,IAAI,CAAC;EACvC;EAGAE,IAAIA,CAACF,IAAS;IAEZ,OAAO,IAAI,CAACR,IAAI,CAACW,GAAG,CAAC,IAAI,CAACV,GAAG,EAAEO,IAAI,CAAC;EACtC;EAIAI,MAAMA,CAACN,OAAc;IAEnB,OAAO,IAAI,CAACN,IAAI,CAACa,OAAO,CAAC,QAAQ,EAAE,IAAI,CAACZ,GAAG,EAAE;MAACa,IAAI,EAAC;QAACR,OAAO,EAACA;MAAO;IAAC,CAAC,CAAC;EACxE;;AA1DWR,YAAY,C;mBAAZA,YAAY,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAZpB,YAAY,C;SAAZA,YAAY;EAAAqB,OAAA,EAAZrB,YAAY,CAAAsB,IAAA;EAAAC,UAAA,EAFX;AAAM;SAEPvB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}